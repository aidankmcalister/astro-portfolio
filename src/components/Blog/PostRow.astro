---
import { Icon } from "astro-icon/components";
import { formatDate } from "../../lib/helpers";
import TooltipHover from "../TooltipHover";

interface Props {
  title: string;
  date: Date;
  url: string;
  languages: string[];
}

const { title, date, url, languages } = Astro.props;

function LangIcon(language: string) {
  switch (language) {
    case "Astro":
      return "tabler:brand-astro";
    case "JavaScript":
      return "logos:javascript";
    case "TypeScript":
      return "logos:typescript-icon";
    case "Tailwind":
      return "devicon:tailwindcss";
    case "Next":
      return "devicon:nextjs";
    case "React":
      return "logos:react";
    case "Redwood":
      return "logos:redwoodjs";
    case "Python":
      return "logos:python";
    case "Prisma":
      return "simple-icons:prisma";
    case "GraphQL":
      return "logos:graphql";
  }
}
---

<li class="w-full text-neutral-100 hover:text-neutral-400 ease-in-out transition-colors border-b-neutral-400 border-dashed border-b-1 my-2">
  <a
    class="text-sm md:text-base decoration-none flex justify-between"
    href={`/projects/${url}`}
  >
  <div class="flex flex-row">
    <p class="inline-block whitespace-nowrap ">
      {title}
    </p>
    <span class="ml-2">
      {languages.map((language) => (
          <TooltipHover language={language} client:visible>
            <span class="hover:bg-red-500 p-0.5 m-0.5 rounded-sm w-5 h-5 flex items-center justify-center">{<Icon name={LangIcon(language)} class="h-4 w-4 rounded-sm" />}</span>
          </TooltipHover>
      ))}
    </span>
  </div>
    <time
      class="text-right tabular-nums"
      datetime={date.toISOString()}
      data-date={date.toISOString()}
    >
      {formatDate(date)}
    </time>
  </a>
</li>
